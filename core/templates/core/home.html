{% extends "base.html" %}
{% load static blog_extras cache %}

{% block title %}Finansal Özgürlük ve Yatırım Günlüğü Ana Sayfası | Kartopu Money{% endblock %}
{% block page_css %}
  {% preload_stylesheet 'css/home.css' %}
  {% preload_stylesheet 'css/post_list.css' %}
{% endblock %}

{% block content %}
  <section class="home-hero">
    <img
      class="home-hero__bg"
      src="{% static 'images/home/hero_ball.jpg' %}"
      alt=""
      width="900"
      height="514"
      loading="eager"
      fetchpriority="high"
      decoding="async"
      aria-hidden="true"
    />
    <div class="home-hero__content">
      <p class="home-hero__eyebrow">Finansal Özgürlüğe Doğru</p>
      <h1>Kendi Kartopunu Yarat</h1>
      <p class="home-hero__subtitle">
        Bu blogda, finansal özgürlük yolculuğumuzda yaşadıklarımızı<br /> ve öğrendiklerimizi paylaşıyoruz. <br />
        Tasarruf, yatırım ve piyasa deneyimlerimizle kendi kartopunu<br /> adım adım büyütmene eşlik etmeyi amaçlıyoruz.
      </p>
      <div class="home-hero__actions">
        {% if featured_post %}
          <a class="button button--primary" href="{{ featured_post.get_absolute_url }}">
            Güncel Portföyü Gör
          </a>
        {% else %}
          <button class="button button--primary is-disabled" type="button" disabled>
            Güncel Portföyü Gör
          </button>
        {% endif %}

        <a class="button button--ghost" href="{% url 'blog:post_feed' %}">
          <svg
            class="button__icon"
            viewBox="0 0 24 24"
            aria-hidden="true"
            focusable="false"
          >
            <path
              fill="currentColor"
              d="M5 20a2 2 0 1 1 0-4 2 2 0 0 1 0 4Zm-1-8v-3a11 11 0 0 1 11 11h-3a8 8 0 0 0-8-8Zm0-6V3a17 17 0 0 1 17 17h-3A14 14 0 0 0 4 6Z"
            />
          </svg>
          RSS ile Takip Et
        </a>
      </div>
    </div>
  </section>

  <section class="home-portfolio">
    <div class="home-portfolio__header">
      <div>
        <h2>Son Yazılar</h2>
      </div>
      <a class="button" href="{% url 'blog:post_list' %}">
        Tüm blog yazılarına git
      </a>
    </div>

    {% if latest_posts %}
      {% cache 600 home_latest_posts %}
        {% include "includes/post_list.html" with posts=latest_posts %}
      {% endcache %}
    {% else %}
      <p>Henüz yazı yok.</p>
    {% endif %}
  </section>
{% endblock %}
