{% extends "base.html" %}
{% load static %}

{% block title %}
{% if page_obj.number > 1 %}
  Tüm Blog Yazıları - Sayfa {{ page_obj.number }} | Kartopu Money
{% else %}
  Tüm Blog Yazıları | Kartopu Money
{% endif %}
{% endblock %}

{% block page_css %}
  <link rel="stylesheet" href="{% static 'css/blog.css' %}" />
  <link rel="stylesheet" href="{% static 'css/post_list.css' %}" />
{% endblock %}

{% block head %}
  <meta
    name="description"
    content="Kartopu Blog’daki tüm yazıları burada bulabilirsiniz. Finansal özgürlük, yatırım stratejileri ve kişisel finans üzerine güncel içerikler."
  />

  {% if page_obj.number > 1 %}
    <meta name="robots" content="noindex, follow">
  {% endif %}
{% endblock %}

{% block content %}
{% include "includes/breadcrumbs.html" %}
  <h1>Blog</h1>
  {% if page_obj %}
    {% include "includes/post_list.html" with posts=page_obj.object_list %}

    <nav class="pagination">
      {% if page_obj.has_previous %}
        <a class="pagination__link" href="?page={{ page_obj.previous_page_number }}{% if q %}&q={{ q|urlencode }}{% endif %}">← Önceki</a>
      {% endif %}
      <span class="pagination__status"> Sayfa {{ page_obj.number }} / {{ page_obj.paginator.num_pages }} </span>
      {% if page_obj.has_next %}
        <a class="pagination__link" href="?page={{ page_obj.next_page_number }}{% if q %}&q={{ q|urlencode }}{% endif %}">Sonraki →</a>
      {% endif %}
    </nav>

  {% else %}
    <p>Henüz yayınlanmış yazı yok.</p>
  {% endif %}
{% endblock %}
