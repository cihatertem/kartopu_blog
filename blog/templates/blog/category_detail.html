{% extends "base.html" %}
{% load static %}
{% block title %}{{ category.name|title }} Yazıları | Kartopu Money{% endblock %}
{% block page_css %}
  <link rel="stylesheet" href="{% static 'css/blog.css' %}" />
  <link rel="stylesheet" href="{% static 'css/post_list.css' %}" />
{% endblock %}
{% block head %}
  <meta
    name="description"
    content="{{ category.description|default:'Kartopu Money kategorisindeki en yeni yazılar.' }}"
  />
{% endblock %}

{% block content %}
{% include "includes/breadcrumbs.html" %}
  <div class="category-header">
    <h1>{{ category.name }}</h1>
    <a class="button button--ghost" href="{% url 'blog:category_feed' category.slug %}">
      <svg
        class="button__icon"
        viewBox="0 0 24 24"
        aria-hidden="true"
        focusable="false"
      >
        <path
          fill="currentColor"
          d="M5 20a2 2 0 1 1 0-4 2 2 0 0 1 0 4Zm-1-8v-3a11 11 0 0 1 11 11h-3a8 8 0 0 0-8-8Zm0-6V3a17 17 0 0 1 17 17h-3A14 14 0 0 0 4 6Z"
        />
      </svg>
      {{ category.name|title }} kategorisi için RSS
    </a>
  </div>
  {% if category.description %}
    <p>{{ category.description }}</p>
  {% endif %}
  <hr />

  {% if page_obj %}
    {% include "includes/post_list.html" with posts=page_obj.object_list %}

    <nav class="pagination">
      {% if page_obj.has_previous %}
      <a class="pagination__link" href="?page={{ page_obj.previous_page_number }}">← Önceki</a>
      {% endif %}

      <span class="pagination__status"> Sayfa {{ page_obj.number }} / {{ page_obj.paginator.num_pages }} </span>

      {% if page_obj.has_next %}
      <a class="pagination__link" href="?page={{ page_obj.next_page_number }}">Sonraki →</a>
      {% endif %}
    </nav>
  {% else %}
    <p>Bu kategoride henüz yayınlanmış yazı yok.</p>
  {% endif %}
{% endblock %}
